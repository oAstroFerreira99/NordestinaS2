-----------------------------------------------------------------------------------------------------------------------------------------
-- VRP
-----------------------------------------------------------------------------------------------------------------------------------------
local Tunnel = module("vrp","lib/Tunnel")
-----------------------------------------------------------------------------------------------------------------------------------------
-- CONNECTION
-----------------------------------------------------------------------------------------------------------------------------------------
vSERVER = Tunnel.getInterface("pause")
-----------------------------------------------------------------------------------------------------------------------------------------
-- VARIABLES
-----------------------------------------------------------------------------------------------------------------------------------------
local Pause = false
-----------------------------------------------------------------------------------------------------------------------------------------
-- COMMAND
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterCommand("PauseBreak",function()
	if not Pause and not IsPauseMenuActive() then
		Pause = true
		SetNuiFocus(true,true)
		SetCursorLocation(0.5,0.5)
		SendNUIMessage({ name = "Open" })
	end
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- COMMAND
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterCommand("ActiveMap",function()
	ActivateFrontendMenu("FE_MENU_VERSION_MP_PAUSE",0,-1)
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- KEYMAPPING
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterKeyMapping("PauseBreak","Abrir as configurações","keyboard","Escape")
RegisterKeyMapping("ActiveMap","Abrir o mapa","keyboard","P")
-----------------------------------------------------------------------------------------------------------------------------------------
-- DISCONNECT
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterNUICallback("Disconnect",function(Data,Callback)
	vSERVER.Disconnect()

	Callback("Ok")
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- SETTINGS
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterNUICallback("Settings",function(Data,Callback)
	Pause = false
	SetNuiFocus(false,false)
	ActivateFrontendMenu("FE_MENU_VERSION_LANDING_MENU",0,-1)

	Callback("Ok")
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- MAP
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterNUICallback("Map",function(Data,Callback)
	Pause = false
	SetNuiFocus(false,false)
	ActivateFrontendMenu("FE_MENU_VERSION_MP_PAUSE",0,-1)

	Callback("Ok")
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- HOME
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterNUICallback("Home",function(Data,Callback)
	Callback(vSERVER.Home())
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- DIAMONDSLIST
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterNUICallback("DiamondsList",function(Data,Callback)
	Callback(vSERVER.DiamondsList())
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- PREMIUMRENEW
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterNUICallback("PremiumRenew",function(Data,Callback)
	Callback(vSERVER.PremiumRenew())
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- DIAMONDSBUY
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterNUICallback("DiamondsBuy",function(Data,Callback)
	if not LocalPlayer["state"]["Prison"] then
		Callback(vSERVER.DiamondsBuy(Data["index"],Data["amount"]))
	else
		Callback(false)
	end
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- CLOSE
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterNUICallback("Close",function(Data,Callback)
	Pause = false
	SetNuiFocus(false,false)

	Callback("Ok")
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- ROLEPASS
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterNUICallback("Rolepass",function(Data,Callback)
	Callback(vSERVER.Rolepass())
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- ROLEPASSBUY
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterNUICallback("RolepassBuy",function(Data,Callback)
	Callback(vSERVER.RolepassBuy())
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- ROLEPASSRESCUE
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterNUICallback("RolepassRescue",function(Data,Callback)
	if not LocalPlayer["state"]["Prison"] then
		Callback(vSERVER.RolepassRescue(Data["mode"],Data["number"]))
	else
		Callback(false)
	end
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- BOXES
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterNUICallback("Boxes",function(Data,Callback)
	Callback(Boxes)
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- OPENBOXES
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterNUICallback("OpenBoxes",function(Data,Callback)
	Callback(vSERVER.OpenBoxes(Data))
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- CONTENTBOX
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterNUICallback("ContentBox",function(Data,Callback)
	Callback(ContentBoxes[Data])
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- PAYMENTBOXES
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterNUICallback("PaymentBoxes",function(Data,Callback)
	Callback(vSERVER.PaymentBoxes(Data["boxId"],Data["rouletteId"]))
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- MARKETPLACE
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterNUICallback("Marketplace",function(Data,Callback)
	Callback(vSERVER.Marketplace())
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- MARKETINVENTORY
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterNUICallback("MarketInventory",function(Data,Callback)
	Callback(vSERVER.MarketInventory(Data))
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- MARKETANNOUNCE
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterNUICallback("MarketAnnounce",function(Data,Callback)
	Callback(vSERVER.MarketAnnounce(Data))
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- MARKETBUY
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterNUICallback("MarketBuy",function(Data,Callback)
	Callback(vSERVER.MarketBuy(Data))
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- MARKETCANCEL
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterNUICallback("MarketCancel",function(Data,Callback)
	Callback(vSERVER.MarketCancel(Data))
end)